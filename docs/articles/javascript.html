<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>javascript • tabulatoR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="javascript">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tabulatoR</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/columns.html">Column Configuration</a></li>
    <li><a class="dropdown-item" href="../articles/javascript.html">JavaScript Integration</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kent-orr/tabulatoR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>javascript</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/kent-orr/tabulatoR/blob/HEAD/vignettes/javascript.Rmd" class="external-link"><code>vignettes/javascript.Rmd</code></a></small>
      <div class="d-none name"><code>javascript.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kent-orr.github.io/tabulatoR/">tabulatoR</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="overview-how-tabulator-wraps-tabulator-js">Overview: How tabulatoR Wraps Tabulator.js<a class="anchor" aria-label="anchor" href="#overview-how-tabulator-wraps-tabulator-js"></a>
</h2>
<p>tabulatoR provides a lightweight R interface to the powerful <a href="http://tabulator.info/" class="external-link">Tabulator</a> JavaScript library. Unlike
traditional htmlwidgets-based packages, tabulatoR uses a custom Shiny
output binding with direct JSON serialization via <code>jsonlite</code>,
giving you clean, predictable output and full access to Tabulator’s
extensive API.</p>
<div class="section level3">
<h3 id="architecture">Architecture<a class="anchor" aria-label="anchor" href="#architecture"></a>
</h3>
<p>The integration consists of three main components:</p>
<ol style="list-style-type: decimal">
<li>
<strong>R functions</strong> (<a href="../R/render.R">render.R</a>)
- <code><a href="../reference/renderTabulatoR.html">renderTabulatoR()</a></code> and <code><a href="../reference/renderSpreadsheet.html">renderSpreadsheet()</a></code>
serialize your data and configuration to JSON</li>
<li>
<strong>Custom Shiny binding</strong> (<a href="../inst/tabulatoR.js">tabulatoR.js</a>) - Handles table creation,
updates, and event routing</li>
<li>
<strong>UI manipulation functions</strong> (<a href="../R/proxy.R">proxy.R</a>) - Allow R to invoke methods on existing
tables</li>
</ol>
<p><strong>Data flow:</strong></p>
<pre><code>R (renderTabulatoR)
  → JSON payload
  → Shiny output binding
  → Creates Tabulator instance
  → User interaction triggers events
  → Events send data back to R via Shiny.setInputValue()
  → R observes input$tableId and reacts</code></pre>
</div>
<div class="section level3">
<h3 id="creating-a-table">Creating a Table<a class="anchor" aria-label="anchor" href="#creating-a-table"></a>
</h3>
<p>The main function is <code><a href="../reference/renderTabulatoR.html">renderTabulatoR()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kent-orr.github.io/tabulatoR/">tabulatoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/tab_source.html">tab_source</a></span><span class="op">(</span><span class="op">)</span>,  <span class="co"># Load Tabulator CSS/JS from CDN</span></span>
<span>  <span class="fu">tabulatorOutput</span><span class="op">(</span><span class="st">"myTable"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">myTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/renderTabulatoR.html">renderTabulatoR</a></span><span class="op">(</span></span>
<span>    <span class="va">mtcars</span>,</span>
<span>    columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../reference/Column.html">Column</a></span><span class="op">(</span><span class="st">"Model"</span>, <span class="st">"model"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="../reference/Column.html">Column</a></span><span class="op">(</span><span class="st">"MPG"</span>, <span class="st">"mpg"</span>, .editor <span class="op">=</span> <span class="st">"number"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="../reference/Column.html">Column</a></span><span class="op">(</span><span class="st">"Cylinders"</span>, <span class="st">"cyl"</span>, .editor <span class="op">=</span> <span class="st">"number"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    autoColumns <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    layout <span class="op">=</span> <span class="st">"fitColumns"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p><strong>What happens behind the scenes:</strong></p>
<ol style="list-style-type: decimal">
<li>Your data.frame is converted to a list of named lists (object format
for JavaScript)</li>
<li>Column definitions and options are serialized to JSON</li>
<li>The custom output binding receives this payload</li>
<li>A new Tabulator instance is created:
<code>new Tabulator(el, options)</code>
</li>
<li>The table reference is stored globally:
<code>window[el.id] = table</code>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="event-listeners">Event Listeners<a class="anchor" aria-label="anchor" href="#event-listeners"></a>
</h3>
<p>Event listeners connect JavaScript interactions back to R. tabulatoR
provides default handlers for common events, and you can override or add
custom ones.</p>
<div class="section level4">
<h4 id="default-event-handlers">Default Event Handlers<a class="anchor" aria-label="anchor" href="#default-event-handlers"></a>
</h4>
<p>These events are automatically registered with sensible defaults:</p>
<ul>
<li>
<strong><code>cellClick</code></strong> - Captures: field, value,
row data, row index</li>
<li>
<strong><code>cellEdited</code></strong> - Captures: field, value,
old_value, row data, row index</li>
<li>
<strong><code>validationFailed</code></strong> - Captures: field,
value, validation failure info</li>
<li>
<strong><code>rowAdded</code></strong> - Captures: new row data and
index</li>
<li>
<strong><code>rowDeleted</code></strong> - Captures: deleted row
data and index</li>
</ul>
<p><strong>Using default events in R:</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">myTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/renderTabulatoR.html">renderTabulatoR</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Listen to default cellEdited event</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">myTable</span>, <span class="op">{</span></span>
<span>    <span class="va">event_data</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">myTable</span></span>
<span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Cell edited:\n"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Field:"</span>, <span class="va">event_data</span><span class="op">$</span><span class="va">field</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  New value:"</span>, <span class="va">event_data</span><span class="op">$</span><span class="va">value</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Old value:"</span>, <span class="va">event_data</span><span class="op">$</span><span class="va">old_value</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Row index:"</span>, <span class="va">event_data</span><span class="op">$</span><span class="va">index</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="custom-event-handlers">Custom Event Handlers<a class="anchor" aria-label="anchor" href="#custom-event-handlers"></a>
</h4>
<p>Override defaults or add new events using the <code>events</code>
parameter with the <code><a href="../reference/js.html">js()</a></code> wrapper:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">myTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/renderTabulatoR.html">renderTabulatoR</a></span><span class="op">(</span></span>
<span>  <span class="va">mtcars</span>,</span>
<span>  events <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Custom cellEdited handler</span></span>
<span>    cellEdited <span class="op">=</span> <span class="fu"><a href="../reference/js.html">js</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">      function(cell) {</span></span>
<span><span class="st">        return {</span></span>
<span><span class="st">          field: cell.getField(),</span></span>
<span><span class="st">          newValue: cell.getValue(),</span></span>
<span><span class="st">          oldValue: cell.getOldValue(),</span></span>
<span><span class="st">          rowIndex: cell.getRow().getPosition(),</span></span>
<span><span class="st">          customInfo: 'Modified by user'</span></span>
<span><span class="st">        };</span></span>
<span><span class="st">      }</span></span>
<span><span class="st">    "</span><span class="op">)</span>,</span>
<span></span>
<span>    <span class="co"># Row selection tracking</span></span>
<span>    rowSelectionChanged <span class="op">=</span> <span class="fu"><a href="../reference/js.html">js</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">      function(data, rows) {</span></span>
<span><span class="st">        return {</span></span>
<span><span class="st">          selectedCount: rows.length,</span></span>
<span><span class="st">          selectedIds: rows.map(r =&gt; r.getData().id)</span></span>
<span><span class="st">        };</span></span>
<span><span class="st">      }</span></span>
<span><span class="st">    "</span><span class="op">)</span>,</span>
<span></span>
<span>    <span class="co"># Cell context menu</span></span>
<span>    cellContext <span class="op">=</span> <span class="fu"><a href="../reference/js.html">js</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">      function(e, cell) {</span></span>
<span><span class="st">        e.preventDefault();</span></span>
<span><span class="st">        return {</span></span>
<span><span class="st">          field: cell.getField(),</span></span>
<span><span class="st">          value: cell.getValue(),</span></span>
<span><span class="st">          position: { x: e.clientX, y: e.clientY }</span></span>
<span><span class="st">        };</span></span>
<span><span class="st">      }</span></span>
<span><span class="st">    "</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>How it works:</strong></p>
<ol style="list-style-type: decimal">
<li>The <code><a href="../reference/js.html">js()</a></code> function wraps your JavaScript in
<code>&lt;js&gt;...&lt;/js&gt;</code> tags</li>
<li>During JSON serialization, this becomes a string</li>
<li>The JavaScript binding detects these tags via
<code>parseJSValue()</code>
</li>
<li>The string is evaluated back to an executable function:
<code>eval(code)</code>
</li>
<li>When the event fires, your function processes the data</li>
<li>The returned object is sent to R via
<code>Shiny.setInputValue()</code>
</li>
</ol>
<p><strong>Why use <code><a href="../reference/js.html">js()</a></code> instead of
<code>toJSON()</code>?</strong></p>
<p>You might wonder why tabulatoR uses this <code><a href="../reference/js.html">js()</a></code> wrapper
approach instead of R’s standard <code><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">jsonlite::toJSON()</a></code> or
similar serialization methods. The reason is that <strong>nested
formulas and custom functions don’t serialize properly</strong> after a
couple of layers with traditional JSON serialization.</p>
<p>When you have deeply nested Tabulator configurations—like formatters
within column definitions, validators with custom logic, or complex
event handlers that reference other functions—standard JSON
serialization fails to preserve the executable function references. The
<code><a href="../reference/js.html">js()</a></code> approach allows these custom functions and formulas to
be passed through deeply nested structures and properly reconstructed on
the JavaScript side.</p>
<p>While this isn’t the most ergonomic approach from an R perspective,
it gives you full access to Tabulator’s powerful JavaScript API without
limitations on nesting depth or complexity.</p>
</div>
<div class="section level4">
<h4 id="available-tabulator-events">Available Tabulator Events<a class="anchor" aria-label="anchor" href="#available-tabulator-events"></a>
</h4>
<p>You can register handlers for any <a href="http://tabulator.info/docs/5.5/events" class="external-link">Tabulator event</a>. Common
ones include:</p>
<ul>
<li>
<strong>Data events:</strong> <code>dataLoaded</code>,
<code>dataChanged</code>, <code>dataFiltered</code>,
<code>dataSorted</code>
</li>
<li>
<strong>Cell events:</strong> <code>cellClick</code>,
<code>cellDblClick</code>, <code>cellEdited</code>,
<code>cellMouseEnter</code>
</li>
<li>
<strong>Row events:</strong> <code>rowClick</code>,
<code>rowAdded</code>, <code>rowDeleted</code>, <code>rowMoved</code>,
<code>rowSelected</code>
</li>
<li>
<strong>Column events:</strong> <code>columnMoved</code>,
<code>columnResized</code>, <code>columnVisibilityChanged</code>
</li>
<li>
<strong>Validation:</strong> <code>validationFailed</code>
</li>
<li>
<strong>Editing:</strong> <code>dataEdited</code>,
<code>editableCheck</code>
</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="invoking-methods-from-r-ui-manipulation-functions">Invoking Methods from R (UI Manipulation Functions)<a class="anchor" aria-label="anchor" href="#invoking-methods-from-r-ui-manipulation-functions"></a>
</h3>
<p>Unlike traditional Shiny “proxy” objects that maintain synchronized
state between R and JavaScript, tabulatoR provides <strong>UI
manipulation functions</strong> that directly invoke methods on the
client-side Tabulator instance. These functions use
<code>session$sendCustomMessage()</code> to send commands to JavaScript,
modifying the table without re-rendering or maintaining a server-side
copy of the table state.</p>
<div class="section level4">
<h4 id="not-your-typical-proxy">Not Your Typical “Proxy”<a class="anchor" aria-label="anchor" href="#not-your-typical-proxy"></a>
</h4>
<p>If you’re coming from other popular table packages like
<code>DT</code> or <code>reactable</code>, you may be accustomed to
using “proxy” objects that decouple the rendered output from the UI
state. In those implementations, the proxy maintains a server-side
representation that stays synchronized with the client.</p>
<p><strong>tabulatoR takes a different approach:</strong> There’s no
decoupling of the <code><a href="../reference/renderTabulatoR.html">renderTabulatoR()</a></code> output binding from the
UI. Instead, we provide simple wrapper functions that send messages
directly to the existing Tabulator instance in the browser. This
means:</p>
<ul>
<li>No server-side state synchronization</li>
<li>No proxy object to create or manage</li>
<li>Direct method invocation on the client-side table</li>
<li>Lighter weight and more straightforward</li>
</ul>
<p>You simply call functions like <code><a href="../reference/tabulatorAddRow.html">tabulatorAddRow()</a></code> or
<code><a href="../reference/tabulatorRemoveRow.html">tabulatorRemoveRow()</a></code>, and they send commands to manipulate
the UI table directly.</p>
</div>
<div class="section level4">
<h4 id="adding-rows">Adding Rows<a class="anchor" aria-label="anchor" href="#adding-rows"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">myTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/renderTabulatoR.html">renderTabulatoR</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">addRowBtn</span>, <span class="op">{</span></span>
<span>    <span class="va">new_row</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>      model <span class="op">=</span> <span class="st">"New Car"</span>,</span>
<span>      mpg <span class="op">=</span> <span class="fl">25</span>,</span>
<span>      cyl <span class="op">=</span> <span class="fl">4</span>,</span>
<span>      stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># Add to bottom (default)</span></span>
<span>    <span class="fu"><a href="../reference/tabulatorAddRow.html">tabulatorAddRow</a></span><span class="op">(</span><span class="st">"myTable"</span>, <span class="va">new_row</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># Or add to top</span></span>
<span>    <span class="fu"><a href="../reference/tabulatorAddRow.html">tabulatorAddRow</a></span><span class="op">(</span><span class="st">"myTable"</span>, <span class="va">new_row</span>, add_to <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><strong>Behind the scenes:</strong></p>
<pre><code>R: tabulatorAddRow("myTable", data, "bottom")
  → session$sendCustomMessage("tabulator-add-data", list(id = "myTable", data = data, add_to = "bottom"))
  → JS: Shiny.addCustomMessageHandler receives message
  → Finds table: document.getElementById("myTable")
  → Calls: table.addData(message.data, message.add_to)</code></pre>
</div>
<div class="section level4">
<h4 id="removing-rows">Removing Rows<a class="anchor" aria-label="anchor" href="#removing-rows"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remove row at index 5</span></span>
<span><span class="fu"><a href="../reference/tabulatorRemoveRow.html">tabulatorRemoveRow</a></span><span class="op">(</span><span class="st">"myTable"</span>, index <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="replacing-all-data">Replacing All Data<a class="anchor" aria-label="anchor" href="#replacing-all-data"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Replace entire table with new data</span></span>
<span><span class="fu"><a href="../reference/tabulatorReplaceData.html">tabulatorReplaceData</a></span><span class="op">(</span><span class="st">"myTable"</span>, <span class="va">new_data_frame</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="reverting-edits">Reverting Edits<a class="anchor" aria-label="anchor" href="#reverting-edits"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">myTable</span>, <span class="op">{</span></span>
<span>  <span class="va">edited</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">myTable</span></span>
<span></span>
<span>  <span class="co"># Validation check</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">edited</span><span class="op">$</span><span class="va">value</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/showNotification.html" class="external-link">showNotification</a></span><span class="op">(</span><span class="st">"Negative values not allowed!"</span>, type <span class="op">=</span> <span class="st">"error"</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># Revert the cell to its previous value</span></span>
<span>    <span class="fu"><a href="../reference/tabulatorRevertField.html">tabulatorRevertField</a></span><span class="op">(</span></span>
<span>      <span class="st">"myTable"</span>,</span>
<span>      index <span class="op">=</span> <span class="va">edited</span><span class="op">$</span><span class="va">index</span>,</span>
<span>      field <span class="op">=</span> <span class="va">edited</span><span class="op">$</span><span class="va">field</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="spreadsheet-specific-proxies">Spreadsheet-Specific Proxies<a class="anchor" aria-label="anchor" href="#spreadsheet-specific-proxies"></a>
</h4>
<p>For tables created with <code><a href="../reference/renderSpreadsheet.html">renderSpreadsheet()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Replace spreadsheet data</span></span>
<span><span class="fu"><a href="../reference/spreadsheetSetData.html">spreadsheetSetData</a></span><span class="op">(</span><span class="st">"mySheet"</span>, <span class="va">new_data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear all cells</span></span>
<span><span class="fu"><a href="../reference/spreadsheetClearSheet.html">spreadsheetClearSheet</a></span><span class="op">(</span><span class="st">"mySheet"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get current spreadsheet data (triggers input$mySheet_data)</span></span>
<span><span class="fu"><a href="../reference/spreadsheetGetData.html">spreadsheetGetData</a></span><span class="op">(</span><span class="st">"mySheet"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">mySheet_data</span>, <span class="op">{</span></span>
<span>  <span class="va">current_data</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">mySheet_data</span></span>
<span>  <span class="co"># Process or save the data</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="direct-tabulator-api-access">Direct Tabulator API Access<a class="anchor" aria-label="anchor" href="#direct-tabulator-api-access"></a>
</h3>
<p>For advanced use cases, you can access the Tabulator instance
directly from JavaScript:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">myTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/renderTabulatoR.html">renderTabulatoR</a></span><span class="op">(</span></span>
<span>  <span class="va">mtcars</span>,</span>
<span>  .opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Any Tabulator option works here</span></span>
<span>    pagination <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    paginationSize <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    groupBy <span class="op">=</span> <span class="st">"cyl"</span>,</span>
<span>    movableRows <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    selectable <span class="op">=</span> <span class="st">"highlight"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Or use browser console JavaScript:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co">// Access the table (if table id is "myTable")</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="kw">const</span> table <span class="op">=</span> <span class="bu">window</span><span class="op">.</span><span class="at">myTable</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="co">// Call any Tabulator method</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>table<span class="op">.</span><span class="fu">deselectRow</span>()<span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>table<span class="op">.</span><span class="fu">setFilter</span>(<span class="st">"mpg"</span><span class="op">,</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>table<span class="op">.</span><span class="fu">download</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"data.csv"</span>)<span class="op">;</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="complete-example-editable-table-with-validation">Complete Example: Editable Table with Validation<a class="anchor" aria-label="anchor" href="#complete-example-editable-table-with-validation"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/tab_source.html">tab_source</a></span><span class="op">(</span>theme <span class="op">=</span> <span class="st">"tabulator_bootstrap5"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="st">"addRow"</span>, <span class="st">"Add Row"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="st">"getData"</span>, <span class="st">"Get Current Data"</span><span class="op">)</span>,</span>
<span>  <span class="fu">tabulatorOutput</span><span class="op">(</span><span class="st">"editableTable"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"debugInfo"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Reactive to store current valid data</span></span>
<span>  <span class="va">table_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactiveVal.html" class="external-link">reactiveVal</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">editableTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/renderTabulatoR.html">renderTabulatoR</a></span><span class="op">(</span></span>
<span>    <span class="fu">table_data</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../reference/Column.html">Column</a></span><span class="op">(</span><span class="st">"Model"</span>, <span class="st">"model"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="../reference/Column.html">Column</a></span><span class="op">(</span><span class="st">"MPG"</span>, <span class="st">"mpg"</span>, .editor <span class="op">=</span> <span class="st">"number"</span>, .validator <span class="op">=</span> <span class="st">"min:0"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="../reference/Column.html">Column</a></span><span class="op">(</span><span class="st">"Cylinders"</span>, <span class="st">"cyl"</span>, .editor <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>             .editorParams <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    events <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      cellEdited <span class="op">=</span> <span class="fu"><a href="../reference/js.html">js</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">        function(cell) {</span></span>
<span><span class="st">          return {</span></span>
<span><span class="st">            field: cell.getField(),</span></span>
<span><span class="st">            value: cell.getValue(),</span></span>
<span><span class="st">            old_value: cell.getOldValue(),</span></span>
<span><span class="st">            index: cell.getRow().getPosition()</span></span>
<span><span class="st">          };</span></span>
<span><span class="st">        }</span></span>
<span><span class="st">      "</span><span class="op">)</span>,</span>
<span>      validationFailed <span class="op">=</span> <span class="fu"><a href="../reference/js.html">js</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">        function(cell, value, validators) {</span></span>
<span><span class="st">          return {</span></span>
<span><span class="st">            field: cell.getField(),</span></span>
<span><span class="st">            invalidValue: value,</span></span>
<span><span class="st">            validators: validators</span></span>
<span><span class="st">          };</span></span>
<span><span class="st">        }</span></span>
<span><span class="st">      "</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    layout <span class="op">=</span> <span class="st">"fitColumns"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Handle valid edits</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">editableTable</span>, <span class="op">{</span></span>
<span>    <span class="va">edit</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">editableTable</span></span>
<span></span>
<span>    <span class="co"># Update our reactive data store</span></span>
<span>    <span class="va">current</span> <span class="op">&lt;-</span> <span class="fu">table_data</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">current</span><span class="op">[</span><span class="va">edit</span><span class="op">$</span><span class="va">index</span>, <span class="va">edit</span><span class="op">$</span><span class="va">field</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">edit</span><span class="op">$</span><span class="va">value</span></span>
<span>    <span class="fu">table_data</span><span class="op">(</span><span class="va">current</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">debugInfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Valid edit:\n"</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Row:"</span>, <span class="va">edit</span><span class="op">$</span><span class="va">index</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Field:"</span>, <span class="va">edit</span><span class="op">$</span><span class="va">field</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  Old:"</span>, <span class="va">edit</span><span class="op">$</span><span class="va">old_value</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"  New:"</span>, <span class="va">edit</span><span class="op">$</span><span class="va">value</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Handle validation failures</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">editableTable_validationFailed</span>, <span class="op">{</span></span>
<span>    <span class="va">fail</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">editableTable_validationFailed</span></span>
<span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/showNotification.html" class="external-link">showNotification</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Invalid value for "</span>, <span class="va">fail</span><span class="op">$</span><span class="va">field</span>, <span class="st">": "</span>, <span class="va">fail</span><span class="op">$</span><span class="va">invalidValue</span><span class="op">)</span>,</span>
<span>      type <span class="op">=</span> <span class="st">"error"</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co"># Revert to old value</span></span>
<span>    <span class="fu"><a href="../reference/tabulatorRevertField.html">tabulatorRevertField</a></span><span class="op">(</span></span>
<span>      <span class="st">"editableTable"</span>,</span>
<span>      index <span class="op">=</span> <span class="va">fail</span><span class="op">$</span><span class="va">index</span>,</span>
<span>      field <span class="op">=</span> <span class="va">fail</span><span class="op">$</span><span class="va">field</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Add new row</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">addRow</span>, <span class="op">{</span></span>
<span>    <span class="va">new_row</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>      model <span class="op">=</span> <span class="st">"New Car"</span>,</span>
<span>      mpg <span class="op">=</span> <span class="fl">20</span>,</span>
<span>      cyl <span class="op">=</span> <span class="fl">4</span>,</span>
<span>      stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/tabulatorAddRow.html">tabulatorAddRow</a></span><span class="op">(</span><span class="st">"editableTable"</span>, <span class="va">new_row</span>, add_to <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>This example demonstrates the full lifecycle: initial render, event
handling, validation, and UI manipulation via table methods.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/kent-orr" class="external-link">Kent Orr</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
